# Guide utilisateur — Gestion des événements (super_administration)

Ce document explique, pas à pas et en langage simple, comment utiliser la nouvelle fonctionnalité de gestion des événements pour les utilisateurs avec le rôle "super_administration". Aucune connaissance technique n'est requise — suivez les instructions ci-dessous. Vous pouvez ajouter vos captures d'écran aux emplacements indiqués.

---

## Récapitulatif rapide

- Où : Connectez-vous à l'espace Super Administration de votre intranet.
- Objectif : créer, modifier, supprimer des événements, sélectionner les étudiants participants, et exporter le QR code d'un événement (PDF) pour que les étudiants puissent émarger.

## Checklist (ce que vous pouvez faire ici)

- Voir la liste des événements
- Créer un nouvel événement
- Modifier un événement existant
- Supprimer un événement
- Sélectionner/retirer des étudiants participants
- Télécharger un PDF contenant le QR code de l'événement
- Distribuer ce QR code aux étudiants pour qu'ils confirment leur présence

---

## 1) Accéder à la gestion des événements

1. Connectez-vous à l'intranet avec votre compte `super_administration`.
2. Dans le menu principal, cliquez sur "Événements" (ou "Gestion des événements") pour ouvrir la liste des événements.

[INSÉRER ICI UNE CAPTURE D'ÉCRAN DE LA PAGE D'ACCUEIL OU DU MENU]

---

## 2) La liste des événements

La page affiche un tableau contenant tous les événements. Pour chaque ligne vous voyez :

- Le nom (libellé) de l'événement
- La date
- L'heure de début et de fin
- Le nombre de participants déjà associés
- La colonne "Actions" qui contient tous les boutons pour agir sur un événement

Action rapide :
- Pour modifier un événement, cliquez sur le bouton "Éditer" dans la colonne Actions de la ligne correspondante.
- Pour voir les détails (participants, etc.), cliquez sur "Voir".
- Pour supprimer, cliquez sur "Supprimer" puis confirmez la suppression.
- Pour télécharger le QR code au format PDF, cliquez sur l'icône QR (bouton bleu) dans la colonne Actions — si elle est présente.

[INSÉRER ICI UNE CAPTURE D'ÉCRAN DE LA LISTE D'ÉVÉNEMENTS, AVEC LA COLONNE ACTIONS EN SURBRILLANCE]

---

## 3) Créer un nouvel événement

1. Depuis la page des événements, cliquez sur le bouton "Nouveau" ou "Créer un événement" en haut de la page.
2. Remplissez les champs :
   - Titre / Libellé : nom de l'événement
   - Date : jour de l'événement
   - Heure de début et heure de fin
   - (Facultatif) Description ou autre champ selon le formulaire
3. Sélectionnez les étudiants participants (voir section suivante).
4. Cliquez sur "Enregistrer" ou "Créer".

Après la création, l'événement apparaît dans la liste. Vous pouvez maintenant télécharger son QR ou modifier sa liste de participants.

[INSÉRER ICI UNE CAPTURE D'ÉCRAN DU FORMULAIRE DE CRÉATION]

---

## 4) Sélectionner les étudiants participants

Dans le formulaire de création / modification, il y a une zone pour choisir les étudiants qui participeront à l'événement.

- Utilisez les filtres disponibles (p. ex. département, semestre, groupe) pour retrouver rapidement des étudiants.
- Vous pouvez cocher des étudiants un par un ou utiliser les options "Sélectionner tout" / "Désélectionner tout" si elles sont visibles.
- Une fois votre sélection terminée, sauvegardez le formulaire.

Conseil : si vous devez ajouter beaucoup d'étudiants, commencez par filtrer par département/semestre pour réduire la liste.

[INSÉRER ICI UNE CAPTURE D'ÉCRAN DE LA LISTE DE SÉLECTION D'ÉTUDIANTS]

---

## 5) Modifier un événement

1. Dans la liste des événements, cliquez sur le bouton "Éditer" (colonne Actions) de l'événement à modifier.
2. Changez les informations nécessaires (titre, date, horaires, participants...).
3. Cliquez sur "Enregistrer" pour appliquer les changements.

Après enregistrement, la liste se met à jour.

---

## 6) Supprimer un événement

1. Dans la liste, cliquez sur le bouton "Supprimer" (colonne Actions) de l'événement à retirer.
2. Confirmez la suppression si un message de confirmation apparaît.

Important : la suppression retire l'événement et les associations avec les étudiants. Vérifiez que vous avez sélectionné le bon événement avant de confirmer.

---

## 7) Télécharger le QR code au format PDF

- Dans la colonne "Actions" du tableau, repérez l'icône en forme de QR (bouton bleu).
- Cliquez sur cette icône pour télécharger un fichier PDF contenant le QR code et les informations principales de l'événement (titre, date, heure).

Ce PDF peut être imprimé ou partagé aux étudiants. Lorsqu'un étudiant scanne le QR code, il est dirigé vers la page permettant de confirmer sa présence à l'événement.

[INSÉRER ICI UNE CAPTURE D'ÉCRAN DU BOUTON QR DANS LA COLONNE ACTIONS]

[INSÉRER ICI UNE CAPTURE D'ÉCRAN OU PHOTO DU PDF QR généré]

---

## 8) Comment les étudiants confirment leur présence (émargement)

- Donnez aux étudiants le PDF (imprimé) ou affichez le QR code à la fin de l'animation.
- L'étudiant scanne le QR avec son téléphone ; une page s'ouvre pour qu'il confirme sa présence.
- L'étudiant clique sur le bouton prévu pour valider sa présence.

Si un étudiant rencontre un problème (la page n'ouvre pas, impossible de valider), demandez-lui de prendre une photo du QR et de l'envoyer à l'équipe support, ou notez son nom et validez manuellement l'émargement dans l'interface d'administration.

---

## 9) Problèmes courants et solutions

- Le bouton QR n'apparaît pas pour un événement
  - Vérifiez que l'événement a bien été enregistré (il doit avoir été créé et sauvegardé).
  - Rechargez la page de la liste d'événements.

- Le PDF ne se télécharge pas / erreur lors de la génération
  - Réessayez après quelques secondes. Si le problème persiste, contactez l'équipe technique en indiquant l'ID de l'événement (le numéro visible dans l'URL ou demandez l'aide si vous ne le voyez pas).

- Un étudiant ne peut pas valider sa présence
  - Demandez-lui d'actualiser la page ou d'essayer avec un autre navigateur / appareil.
  - Si ça ne marche toujours pas, notez son nom et ajoutez-le manuellement à la liste des participants (édition de l'événement).

---

## 10) Bonnes pratiques

- Préparez et vérifiez l'événement (date/heure) avant d'imprimer le QR code.
- Utilisez les filtres pour sélectionner précisément les étudiants et éviter les erreurs.
- Conservez un exemplaire du PDF QR afin de pouvoir le ré-imprimer si besoin.

---

## 11) Où mettre vos captures d'écran

Remplacez les balises [INSÉRER ICI ...] par des images :

- Pour insérer une capture, ajoutez par exemple dans ce fichier Markdown :

  ![Liste des événements](./screenshots/liste_evenements.png)

- Créez un dossier `screenshots/` à la racine du projet et déposez-y vos images.

---

## 12) Contact / support

Si vous rencontrez un blocage que vous ne pouvez pas résoudre avec les étapes ci-dessus, contactez l'équipe technique en fournissant :

- Une description précise du problème
- L'URL de la page (si possible)
- L'ID de l'événement concerné (ou le nom exact)
- Une capture d'écran montrant l'erreur

---

## Pour l'équipe technique (optionnel)

(À coller dans un mail au développeur si besoin)

- Fichiers importants :
  - `src/Controller/superAdministration/EvenementController.php` (logique de création/édition/suppression et génération PDF)
  - `templates/super-administration/evenement/index.html.twig` (liste/colonne actions)
  - `templates/pdf/evenement/qr.html.twig` (template du PDF QR)
  - `src/Service/QrCodeService.php` (génération du QR)
  - `src/Controller/EmargementController.php` (flux d'émargement public)
- Routes utiles (pour debug) : actions d'administration et endpoints d'émargement.

---

Merci : cette documentation est prête à l'usage. Dites-moi si vous voulez que je :

- Renomme le fichier (nom plus explicite),
- Ajoute un sommaire en haut du document,
- Génére une version imprimable séparée (PDF),
- Ou crée le dossier `screenshots/` et y ajoute des fichiers placeholders.

